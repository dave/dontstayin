// FindYourPhoto.js
(function($){
Type.registerNamespace('Js.Pages.FindYourPhoto');Js.Pages.FindYourPhoto.Controller=function(v){this.view=v;this.view.get_picker().selectedSpotterChanged=ss.Delegate.create(this,this.$1);this.view.get_picker().selectedEventChanged=ss.Delegate.create(this,this.$2);if(Js.Library.Misc.get_browserIsIE()){$(ss.Delegate.create(this,this.$0));}else{this.$0();}}
Js.Pages.FindYourPhoto.Controller.prototype={view:null,$0:function(){},$1:function($p0,$p1){var $0=0;try{$0=parseInt($p1.val.replaceAll('-',''));}catch($1){}if($0>0){this.$3($0,0);}else{this.view.get_result().innerHTML="Can't find this spotter. The spotter code should be 8 digits, like 1234-5678.";this.view.get_resultOuter().style.display='';this.view.get_loadingOverlay().style.display='none';}},$2:function($p0,$p1){this.$3(0,($p1.object==null)?0:$p1.object.k);},$3:function($p0,$p1){if(!$p0&&!$p1){this.view.get_resultOuter().style.display='none';return;}var $0='/pages/findyourphotocontent.aspx?'+(($p0>0)?('usrk='+$p0.toString()):('eventk='+$p1.toString()));this.$4++;var $1=this.$4;var $2=this.$5;$.get($0,null,ss.Delegate.create(this,this.$6),null,$1.toString());window.setTimeout(ss.Delegate.create(this,function(){
if(this.$5===$2){this.view.get_loadingOverlay().style.height=this.view.get_result().offsetHeight.toString()+'px';this.view.get_loadingOverlay().style.display='';}}),100);},$4:0,$5:0,$6:function($p0,$p1,$p2,$p3){var $0=parseInt($p3);if(this.$4===$0){this.$5++;this.view.get_result().innerHTML=$p0;this.view.get_resultOuter().style.display='';this.view.get_loadingOverlay().style.display='none';}}}
Js.Pages.FindYourPhoto.View=function(clientId){Js.Pages.FindYourPhoto.View.initializeBase(this,[clientId]);this.clientId=clientId;}
Js.Pages.FindYourPhoto.View.prototype={clientId:null,get_topIcon:function(){if(this.$2_0==null){this.$2_0=document.getElementById(this.clientId+'_TopIcon');}return this.$2_0;},$2_0:null,get_topIconJ:function(){if(this.$2_1==null){this.$2_1=$('#'+this.clientId+'_TopIcon');}return this.$2_1;},$2_1:null,get_picker:function(){return eval(this.clientId+'_PickerController');},get_resultOuter:function(){if(this.$2_2==null){this.$2_2=document.getElementById(this.clientId+'_ResultOuter');}return this.$2_2;},$2_2:null,get_resultOuterJ:function(){if(this.$2_3==null){this.$2_3=$('#'+this.clientId+'_ResultOuter');}return this.$2_3;},$2_3:null,get_loadingOverlay:function(){if(this.$2_4==null){this.$2_4=document.getElementById(this.clientId+'_LoadingOverlay');}return this.$2_4;},$2_4:null,get_loadingOverlayJ:function(){if(this.$2_5==null){this.$2_5=$('#'+this.clientId+'_LoadingOverlay');}return this.$2_5;},$2_5:null,get_result:function(){if(this.$2_6==null){this.$2_6=document.getElementById(this.clientId+'_Result');}return this.$2_6;},$2_6:null,get_resultJ:function(){if(this.$2_7==null){this.$2_7=$('#'+this.clientId+'_Result');}return this.$2_7;},$2_7:null,get_genericContainerPage:function(){if(this.$2_8==null){this.$2_8=document.getElementById(this.clientId+'_GenericContainerPage');}return this.$2_8;},$2_8:null,get_genericContainerPageJ:function(){if(this.$2_9==null){this.$2_9=$('#'+this.clientId+'_GenericContainerPage');}return this.$2_9;},$2_9:null}
Js.Pages.FindYourPhoto.Controller.registerClass('Js.Pages.FindYourPhoto.Controller');Js.Pages.FindYourPhoto.View.registerClass('Js.Pages.FindYourPhoto.View',Js.DsiUserControl.View);})(jQuery);// This script was generated using Script# v0.7.4.0
