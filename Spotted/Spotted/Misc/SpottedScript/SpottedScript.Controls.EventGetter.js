Type.registerNamespace('SpottedScript.Controls.EventGetter');
SpottedScript.Controls.EventGetter.Controller=function(view){this.$0=view;$addHandler(view.get_uiEventDisplayDiv(),'mousedown',Function.createDelegate(this,this.$3));$addHandler(view.get_uiEventDisplayDiv(),'keydown',Function.createDelegate(this,this.$2));this.$1=view.get_uiEventDisplayDiv().innerHTML;}
SpottedScript.Controls.EventGetter.Controller.prototype={$0:null,eventInfo:null,$1:null,$2:function($p0){if($p0.keyCode===8||$p0.keyCode===127){this.eventInfo=null;this.$0.get_uiEventDisplayDiv().innerHTML='';}},$3:function($p0){SpottedScript.Controls.EventCreator.Controller.instance.showPopup((this.eventInfo==null)?null:this.eventInfo.date,(this.eventInfo==null)?null:this.eventInfo.venueInfo,(this.eventInfo==null)?null:this.eventInfo.name,Function.createDelegate(this,this.$4));},$4:function($p0){this.eventInfo=$p0;if($p0!=null){this.$0.get_uiEventDisplayDiv().innerHTML=ScriptSharpLibrary.Suggestion.getPicTitleDetailTemplateHtml($p0.picPath,$p0.name,SpottedScript.Controls.VenueCreator.VenueInfo.nameWithPlace($p0.venueInfo));}else{this.$0.get_uiEventDisplayDiv().innerHTML=this.$1;}}}
SpottedScript.Controls.EventGetter.View=function(clientId){this.clientId=clientId;}
SpottedScript.Controls.EventGetter.View.prototype={clientId:null,get_uiEventDisplayDiv:function(){return document.getElementById(this.clientId+'_uiEventDisplayDiv');}}
SpottedScript.Controls.EventGetter.Controller.registerClass('SpottedScript.Controls.EventGetter.Controller');
SpottedScript.Controls.EventGetter.View.registerClass('SpottedScript.Controls.EventGetter.View');
