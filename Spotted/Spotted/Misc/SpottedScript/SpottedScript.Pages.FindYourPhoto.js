Type.registerNamespace('SpottedScript.Pages.FindYourPhoto');
SpottedScript.Pages.FindYourPhoto.Controller=function(v){this.view=v;this.view.get_picker().selectedSpotterChanged=Function.createDelegate(this,this.$1);this.view.get_picker().selectedEventChanged=Function.createDelegate(this,this.$2);if(SpottedScript.Misc.get_browserIsIE()){jQuery(document.body).ready(Function.createDelegate(this,this.$0));}else{this.$0();}}
SpottedScript.Pages.FindYourPhoto.Controller.prototype={view:null,$0:function(){},$1:function($p0,$p1){var $0=0;try{$0=Number.parseInvariant($p1.val.replace('-',''));}catch($1){}if($0>0){this.$3($0,0);}else{this.view.get_result().innerHTML='Can\'t find this spotter. The spotter code should be 8 digits, like 1234-5678.';this.view.get_resultOuter().style.display='';this.view.get_loadingOverlay().style.display='none';}},$2:function($p0,$p1){this.$3(0,($p1.object==null)?0:$p1.object.k);},$3:function($p0,$p1){if($p0===0&&$p1===0){this.view.get_resultOuter().style.display='none';return;}var $0='/pages/findyourphotocontent.aspx?'+(($p0>0)?('usrk='+$p0.toString()):('eventk='+$p1.toString()));this.$4++;var $1=this.$4;var $2=this.$5;jQuery.get($0,null,Function.createDelegate(this,this.$6),null,$1.toString());window.setTimeout(Function.createDelegate(this,function(){
if(this.$5===$2){this.view.get_loadingOverlay().style.height=this.view.get_result().offsetHeight.toString()+'px';this.view.get_loadingOverlay().style.display='';}}),100);},$4:0,$5:0,$6:function($p0,$p1,$p2,$p3){var $0=Number.parseInvariant($p3);if(this.$4===$0){this.$5++;this.view.get_result().innerHTML=$p0;this.view.get_resultOuter().style.display='';this.view.get_loadingOverlay().style.display='none';}}}
SpottedScript.Pages.FindYourPhoto.View=function(clientId){SpottedScript.Pages.FindYourPhoto.View.initializeBase(this,[clientId]);this.clientId=clientId;}
SpottedScript.Pages.FindYourPhoto.View.prototype={clientId:null,get_topIcon:function(){return document.getElementById(this.clientId+'_TopIcon');},get_picker:function(){return eval(this.clientId+'_PickerController');},get_resultOuter:function(){return document.getElementById(this.clientId+'_ResultOuter');},get_loadingOverlay:function(){return document.getElementById(this.clientId+'_LoadingOverlay');},get_result:function(){return document.getElementById(this.clientId+'_Result');},get_genericContainerPage:function(){return document.getElementById(this.clientId+'_GenericContainerPage');}}
SpottedScript.Pages.FindYourPhoto.Controller.registerClass('SpottedScript.Pages.FindYourPhoto.Controller');
SpottedScript.Pages.FindYourPhoto.View.registerClass('SpottedScript.Pages.FindYourPhoto.View',SpottedScript.DsiUserControl.View);
